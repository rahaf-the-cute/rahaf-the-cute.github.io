var P=Object.defineProperty;var k=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var A=(n,t,a)=>t in n?P(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,S=(n,t)=>{for(var a in t||(t={}))j.call(t,a)&&A(n,a,t[a]);if(k)for(var a of k(t))O.call(t,a)&&A(n,a,t[a]);return n};import{r as l,u as R,s as I,a as E,j as e,F as b,b as c,L as z,m as F,c as V,d as D,P as U,S as B,R as M,O as T,H as W,e as $,f as y}from"./vendor.3dd75ea7.js";const K=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}};K();function G(n,t=[]){const[a,i]=l.exports.useState(!0),[r,s]=l.exports.useState(),[h,m]=l.exports.useState(),u=l.exports.useCallback(()=>{i(!0),s(void 0),m(void 0),n().then(m).catch(s).finally(()=>i(!1))},t);return l.exports.useEffect(()=>{u()},[u]),{loading:a,error:r,value:h}}const J={headers:{}};function C(n,t={},a=[]){return G(()=>fetch(n,S(S({},J),t)).then(i=>i.ok?i.json():i.json().then(r=>Promise.reject(r))),a)}function X(){const[n,t]=l.exports.useState(null),[a,i]=l.exports.useState(!1),[r,s]=l.exports.useState(null),{loading:h,error:m,value:u}=C(`https://script.google.com/macros/s/AKfycbzQOgdsxPa-eow4rJ0FZNWeZ4JK1Rx3YDieGcyuVtTiiX5V535Y4OakCMgU7fzW3DVkNg/exec?type=search&word=${n}`,{},[n]),{x:f,y:g,reference:v,floating:x,strategy:L,update:d}=R({placement:"bottom-start",middleware:[I(),E({apply:s})]});return l.exports.useEffect(()=>{document.onclick=o=>{o.target.className.includes("list-search")||i(!1)}},[document]),e(b,{children:c("form",{onSubmit:o=>o.preventDefault(),id:"search",className:"d-flex row justify-content-center input-group",children:[c("div",{className:"col-lg-4 col",children:[e("input",{className:"list-search",ref:v,onInput:({target:o})=>{t(o.value),i(!0),d()},type:"text",placeholder:"search..."}),n&&a&&e("div",{id:"list",ref:x,style:{position:L,top:g!=null?g:"",left:f!=null?f:"",overflowX:"hidden",maxWidth:r==null?void 0:r.reference.width,maxHeight:"12.4em"},children:c("ul",{className:"list-search",children:[h&&e("div",{className:"d-flex justify-content-center p-3",children:c("svg",{width:"1.6em",height:"1.6em",viewBox:"0 0 24 24",id:"rotate",children:[e("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8a8 8 0 0 1-8 8z",opacity:".5",fill:"#744867"}),e("path",{d:"M20 12h2A10 10 0 0 0 12 2v2a8 8 0 0 1 8 8z",fill:"#341436"})]})}),u&&(u==null?void 0:u.data.filter(o=>o.toLowerCase().includes(n.replaceAll(" ","_").toLowerCase())).slice(0,6).map((o,N)=>e(z,{to:`/search?tag=${o}`,children:e("li",{onClick:()=>{t(o),i(!1)},className:"list-search",children:o.replaceAll("_"," ")})},N)))]})})]}),e("button",{className:"search-btn",hidden:!0,type:"button",children:e("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",children:e("path",{d:"M29 27.586l-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29zM4 13a9 9 0 1 1 9 9a9.01 9.01 0 0 1-9-9z",fill:"currentColor"})})})]})})}function Y({url:n,open:t,close:a,setLoaded:i,imageLoading:r,mimeType:s}){return e("dialog",{open:t,children:c("article",{children:[c("header",{children:[e("span",{onClick:()=>{a(!t)},"aria-label":"Close",className:"close"}),"Preview"]}),r&&e("div",{className:"d-flex justify-content-center p-3",children:c("svg",{width:"1.6em",height:"1.6em",viewBox:"0 0 24 24",id:"rotate",children:[e("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8a8 8 0 0 1-8 8z",opacity:".5",fill:"#744867"}),e("path",{d:"M20 12h2A10 10 0 0 0 12 2v2a8 8 0 0 1 8 8z",fill:"#341436"})]})}),t&&(F(s).includes("video/")?e("video",{controls:!0,onLoadedMetadata:()=>i(!1),src:n}):e("img",{onLoad:()=>i(!1),src:n}))]})})}function Z(){let[n,t]=V();const a=n.get("tag"),i=parseInt(n.get("page"))||1,[r,s]=l.exports.useState(null),[h,m]=l.exports.useState(!1),[u,f]=l.exports.useState(null),[g,v]=l.exports.useState(!0),{loading:x,error:L,value:d}=C(`https://script.google.com/macros/s/AKfycbzQOgdsxPa-eow4rJ0FZNWeZ4JK1Rx3YDieGcyuVtTiiX5V535Y4OakCMgU7fzW3DVkNg/exec?type=list&tag=${a}&page=${i}`,{},[a,i]),o=(p,w)=>{t({tag:a,page:w})},N=D(U)`
    * {color: #ffffff !important;}
    li {padding: 0.2rem;}
    `;return e(b,{children:c("main",{children:[e("div",{className:"tag-name",style:{overflowX:"auto"},children:c("h1",{id:"hero",style:{padding:"1rem",overflowWrap:"break-word"},children:["#",a]})}),x&&e("div",{className:"d-flex justify-content-center p-3",children:c("svg",{width:"1.6em",height:"1.6em",viewBox:"0 0 24 24",id:"rotate",children:[e("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8a8 8 0 0 1-8 8z",opacity:".5",fill:"#744867"}),e("path",{d:"M20 12h2A10 10 0 0 0 12 2v2a8 8 0 0 1 8 8z",fill:"#341436"})]})}),c("div",{className:"row justify-items-center justify-content-center align-items-center",children:[d&&(d==null?void 0:d.data.map((p,w)=>e("div",{className:"col-lg-4 col-md-6 col-12",children:c("article",{className:"card-image",children:[e("div",{style:{textAlign:"center"},children:e("img",{src:"https://imagex.aratech.co/?url="+encodeURIComponent(p.imagePrv.replace(/^http(s|)\:\/\//,"")),onClick:()=>{s("https://http.rahaf.workers.dev/?"+encodeURIComponent(p.imageLink)),v(!0),m(!0),f(p.imageExt)}})}),e("footer",{children:e("div",{className:"d-flex",children:c("span",{children:[p.imageExt," - ",p.imageInfo.size]})})})]})},w))),open&&e(Y,{url:r,open:h,close:m,setLoaded:v,imageLoading:g,mimeType:u})]}),d&&e("div",{className:"d-flex justify-content-center py-3 pagination",children:e(B,{spacing:2,children:e(N,{count:d==null?void 0:d.last,siblingCount:1,size:"small",page:i,color:"secondary",onChange:o})})})]})})}function _(){return c(b,{children:[e("ul",{children:e("li",{id:"brand",children:e(z,{style:{cursor:"pointer"},to:"/",children:e("strong",{children:"Rule34"})})})}),c("ul",{children:[e("li",{children:e(z,{to:"fuck",children:"About"})}),e("li",{children:e("a",{href:"#",children:"Link"})}),e("li",{children:e("a",{href:"#",children:"Link"})})]})]})}var H=()=>M.createPortal(e(_,{}),document.getElementById("nav"));function Q(){return l.exports.useState(0),c("div",{className:"App container",children:[e(H,{}),e("header",{className:"App-header",children:e(T,{})})]})}M.render(e(W,{children:c($,{children:[e(y,{path:"/",element:e(Q,{}),children:c(y,{children:[e(y,{path:"search",element:e(Z,{})}),e(y,{path:"/",element:c("main",{style:{padding:"1rem"},children:[e("h1",{id:"hero",children:"Go ahead and search!"}),e("div",{className:"row m-auto",children:e(X,{})})]})})]})}),e(y,{path:"*",element:e("main",{style:{padding:"1rem"},children:e("p",{children:"404"})})})]})}),document.getElementById("root"));
